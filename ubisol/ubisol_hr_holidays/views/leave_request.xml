<odoo> 
  <data>
    <record model="ir.ui.view" id="hr_leave_inherit_form_view">
      <field name="name">hr.leave.view.form</field>
      <field name="model">hr.leave</field>
      <field name="inherit_id" ref="hr_holidays.hr_leave_view_form"/>
      <field name="arch" type="xml">
        
        <xpath expr="//group/group[1]" position="replace">
            <group>
                <label for="request_date_from" string="From"/>
                <div>
                    <field name="date_from" invisible="1"/>
                    <field name="date_to" invisible="1"/>
                    <div class="o_row o_row_readonly o_hr_holidays_dates">
                        <field name="request_date_from" class="oe_inline"
                            attrs="{'readonly': [('state', 'not in', ('draft', 'confirm'))]}"/>
                        <span class="oe_inline"
                            attrs="{'invisible': [('request_status_type', '=', 'attendance')]}">
                            To
                        </span>
                        <field name="request_date_to" class="oe_inline"
                            attrs="{
                                'readonly': [('state', 'not in', ('draft', 'confirm'))],
                                'invisible': [('request_status_type', '=', 'attendance')]
                            }"/>
                    </div>
                    <div class="o_row o_row_readonly oe_edit_only">
                        <field name="request_unit_hours" invisible="1"/>
                        <field name="request_unit_custom" invisible="1" attrs="{
                            'readonly': [('state', 'not in', ('draft', 'confirm'))],
                        }"/>
                    </div>
                    <div class="o_row o_row_readonly">
                        <field name="request_hour_from"
                            attrs="{
                                'readonly': [('state', '=', 'validate')],
                                'required': [('leave_type_request_unit', '=', 'hour')],
                                'invisible': [('leave_type_request_unit', '!=', 'hour')]}"/>
                        <label for="request_hour_to" string="To"
                            attrs="{'invisible': ['|', ('leave_type_request_unit', '!=', 'hour'), ('request_status_type', '=', 'attendance')]}"/>
                        <field name="request_hour_to"
                            attrs="{
                                'readonly': [('state', '=', 'validate')],
                                'required': [('leave_type_request_unit', '=', 'hour'), ('request_status_type', '!=', 'attendance')],
                                'invisible': ['|', ('leave_type_request_unit', '!=', 'hour'), ('request_status_type', '=', 'attendance')]}"/>
                    </div>
                </div>

                <!-- When the user is leave manager, he should always see `number_of_days` to allow
                him to edit the value. `number_of_hours_display` is only an informative field -->
                <label for="number_of_days" string="Duration" attrs="{'invisible': [('request_status_type', '=', 'attendance')]}"/>
                <div attrs="{'invisible': [('request_status_type', '=', 'attendance')]}">
                    <div groups="!hr_holidays.group_hr_holidays_manager" attrs="{'invisible': [('leave_type_request_unit', '=', 'hour')]}">
                        <field name="number_of_days_display" nolabel="1" readonly="1" class="oe_inline"/>
                        <span class="ml8">Days</span>
                    </div>
                    <div groups="hr_holidays.group_hr_holidays_manager">
                        <field name="number_of_days" nolabel="1" class="oe_inline"/>
                        <span class="ml8">Days</span>
                    </div>
                    <div attrs="{'invisible': [('leave_type_request_unit', '!=', 'hour')]}">
                        <field name="number_of_hours_display" nolabel="1" class="oe_inline"/>
                        <span class="ml8">Hours</span>
                    </div>
                </div>

                <field name="user_id" invisible="1"/>
            </group>
        </xpath>

        <xpath expr="//group/group[1]/field[@name='user_id']" position="after">
            <field name="request_status_type" invisible="1"/>
            <label for="years_of_worked_state" string="Улсад ажилласан жил" attrs="{'invisible':[('request_status_type', '!=', 'vacation')]}"/>
            <div>
                <field name="years_of_worked_state" class="oe_inline" attrs="{'readonly': 1, 'invisible':[('request_status_type', '!=', 'vacation')]}"/>          
            </div>
            <label for="years_of_worked_company" string="Байгууллагад ажилласан жил" attrs="{'invisible':[('request_status_type', '!=', 'vacation')]}"/>
            <div>
                <field name="years_of_worked_company" class="oe_inline" attrs="{'readonly': 1, 'invisible':[('request_status_type', '!=', 'vacation')]}"/> 
                <br/>
                <field name="warning_of_vacation" class="oe_inline" attrs="{'readonly': 1, 'invisible':[('request_status_type', '!=', 'vacation')] }" style="font-size: 10px; color:red;" />  
            </div>
            <label for="employee_holiday" string="Ээлжийн амралтын хоног" attrs="{'invisible':[('request_status_type', '!=', 'vacation')]}"/>
            <div>
                <field name="employee_holiday" class="oe_inline" attrs="{'readonly': 1, 'invisible':[('request_status_type', '!=', 'vacation')] }"/>  
            </div>
        </xpath>
        
      </field>
    </record>

    <record id="hr_leave_action_approve_department2" model="ir.actions.server">
        <field name="name">Time Off</field>
        <field name="model_id" ref="hr_holidays.model_hr_leave"/>
        <field name="state">code</field>
        <field name="code"> 
            action=model.get_filtered_record()
        </field>
    </record>

    <record id="hr_leave_view_tree_my_inherit" model="ir.ui.view">
        <field name="name">hr.holidays.view.tree.inherit</field>
        <field name="model">hr.leave</field>
        <field name="inherit_id" ref="hr_holidays.hr_leave_view_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//tree/field[@name='payslip_status']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>

    <record id="hr_leave_view_form_manager_inherit" model="ir.ui.view">
        <field name="name">hr.leave.view.form.manager.inherit</field>
        <field name="model">hr.leave</field>
        <field name="inherit_id" ref="hr_holidays.hr_leave_view_form_manager"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='payslip_status']" position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
        </field>
    </record>

    <menuitem id="hr_holidays.menu_hr_holidays_my_leaves" groups="ubisol_hr_holidays.hide"/>
    <menuitem id="hr_holidays.menu_hr_holidays_dashboard" name="Everyone" groups="ubisol_hr_holidays.hide"/>  
    <menuitem id="hr_holidays.hr_holidays_menu_manager_payroll" name="Payroll" groups="ubisol_hr_holidays.hide"/>             
    <menuitem id="hr_holidays.hr_holidays_menu_manager_approve" name="Approve" groups="ubisol_hr_holidays.hide"/>             
    <menuitem id="hr_holidays.menu_open_department_leave_approve" name="Time off" groups="ubisol_hr_holidays.hide"/>             
    <menuitem id="hr_holidays.hr_holidays_menu_manager_approve_allocations" name="Allocation" groups="ubisol_hr_holidays.hide"/>             
    <menuitem id="hr_holidays.hr_holidays_menu_manager_all" name="Manager" groups="ubisol_hr_holidays.hide"/>             
    <menuitem id="hr_holidays.menu_open_employee_leave" name="Time off" groups="ubisol_hr_holidays.hide"/>             
    <menuitem id="hr_holidays.hr_holidays_menu_manager_all_allocations" name="Allocation" groups="ubisol_hr_holidays.hide"/>             
    <menuitem id="hr_holidays.hr_holidays_menu_config_activity_type" name="Ажилбарын төрөл" groups="ubisol_hr_holidays.hide"/> 

    <menuitem name="Хүсэлтүүд"
        id="menu_hr_requests_root"
        parent="hr.menu_hr_root"
        groups="base.group_user"/>

    <menuitem name="Чөлөө"
        id="hr_holidays.menu_hr_holidays_root"
        web_icon="hr_holidays,static/description/icon.png"
        parent="menu_hr_requests_root"
        groups="base.group_user"
        sequence="1"/>

    <menuitem
        id="hr_holidays.hr_leave_menu_my1"
        name="Миний чөлөө"
        parent="hr_holidays.menu_hr_holidays_root"
        action="hr_holidays.hr_leave_action_my"
        sequence="1"/>

    <menuitem
        id="hr_holidays.menu_open_department_leave_approve2"
        name="Батлах ёстой чөлөө"
        parent="hr_holidays.menu_hr_holidays_approvals"
        groups="hr_holidays.group_hr_holidays_manager,hr_holidays.group_hr_holidays_user,hr_holidays.group_hr_holidays_responsible"
        action="hr_leave_action_approve_department2"
        sequence="2"/>    
    
    <menuitem
        id="hr_holidays.menu_open_employee_leave1"
        name="Бүх чөлөө"
        parent="hr_holidays.menu_hr_holidays_approvals"
        groups="hr_holidays.group_hr_holidays_manager,hr_holidays.group_hr_holidays_user"
        action="hr_holidays.hr_leave_action_all"
        sequence="3"/>

  </data>
</odoo>