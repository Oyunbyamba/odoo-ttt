<odoo>
  <data>
    <!-- explicit list view definition -->
    <record id="hr_attendance_report_view_pivot" model="ir.ui.view">
      <field name="model">hr.attendance.report</field>
      <field name="arch" type="xml">
        <pivot disable_linking="1">
          <field name="hr_department" type="row"/>
          <field name="hr_employee" type="row"/>
          <field name="work_day" type="col" interval="month"/>
          <field name="work_day" type="col" interval="day"/>
          <field name="work_hours" string="Ажиллавал зохих цаг" type="measure" widget="float_time"/>
          <field name="worked_hours" string="Ажилласан цаг" type="measure" widget="float_time"/>
          <field name="difference_check_in" string="Хоцролт" type="measure" widget="float_time"/>
          <field name="difference_check_out" string="Таслалт" type="measure" widget="float_time"/>
          <field name="overtime" string="Баталсан илүү цаг" type="measure" widget="float_time"/>
          <field name="informal_overtime" string="Илүү цаг" type="measure" widget="float_time"/>
          <field name="outside_work" string="Гадуур ажил" type="measure" widget="float_time"/>
        </pivot>
      </field>
    </record>

    <record id="hr_attendance_report_view_tree" model="ir.ui.view">
      <field name="name">hr.attendance.report.tree</field>
      <field name="model">hr.attendance.report</field>
      <field name="arch" type="xml">
        <tree create="false" delete="false" string="Ирцийн график">
          <field name="hr_department"/>
          <field name="hr_employee"/>
          <field name="shift_type"/>
          <field name="work_hours" string="Ажиллавал зохих цаг" widget="float_time"/>
          <field name="worked_hours" string="Ажилласан цаг" widget="float_time"/>
          <field name="difference_check_in" string="Хоцролт" widget="float_time"/>
          <field name="difference_check_out" string="Таслалт" widget="float_time"/>
          <field name="overtime" string="Баталсан илүү цаг" widget="float_time"/>
          <field name="informal_overtime" string="Илүү цаг" widget="float_time"/>
          <field name="outside_work" string="Гадуур ажил" widget="float_time"/>
        </tree>
      </field>
    </record>

    <!-- actions opening views on models -->
    <record id="ubisol_hr_attendance_report_action" model="ir.actions.act_window">
      <field name="name">Ирцийн график</field>
      <field name="res_model">hr.attendance.report</field>
      <field name="context" >
        {'search_default_previous_month': 1, 'search_default_current_month': 1, 'search_default_my': 1}
      </field>
      <field name="view_mode">pivot,tree</field>
    </record>

    <record model="ir.actions.server" id="action_update_attendance_report">
      <field name="name">Ирцийн график шинэчлэх</field>
      <field name="model_id" ref="model_hr_attendance_report"/>
      <field name="type">ir.actions.server</field>
      <field name="state">code</field>
      <field name="code">model.calculate_report()</field>
    </record>

    <menuitem
      id="menu_ubisol_hr_attendance_report"
      name="Ирцийн график"
      action="ubisol_hr_attendance_report_action"
      parent="hr_attendance.menu_hr_attendance_report"
      groups="hr_attendance.group_hr_attendance"
      sequence="15"
    />
    <!-- <menuitem
      id="menu_update_ubisol_hr_attendance_report"
      name="Update Attendance Report"
      action="action_update_attendance_report"
      parent="menu_hr_attendance_report_root"
      groups="hr_attendance.group_hr_attendance"
      sequence="25"
    /> -->

  </data>
</odoo>